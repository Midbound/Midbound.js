!function(){var e={localStorageGuidKey:"midbound-guid",pixelUrl:"https://midbound.com/_mb.gif",midboundAttributeName:"data-midbound-type",targetTypes:["text","email"],keywords:{names:["firstname","fname","first name","first-name","lastname","last name","lname","last-name","fullname","full name","name"],emails:["email","e-mail","e_mail","e mail"],companies:["company"],phones:["phone","phone-number","phone number"]}},t=localStorage.getItem(e.localStorageGuidKey),n=window.MidboundObject=window.MidboundObject||"mb",o=window[n].q;if(1==(window.navigator.doNotTrack||0))return console.info("Midbound disabled in respect for Universal Web Tracking Opt Out regulations: http://donottrack.us"),!1;var a=function(){var e=(new Date).getTime();return"M-"+e+"-"+parseInt(Math.floor(9e4*Math.random())+1e4)},i=function(t,n,o,a,i){var r=new Image(1,1)||document.createElement("img"),u=e.pixelUrl+"?midid="+encodeURIComponent(t)+"&midguid="+encodeURIComponent(n)+"&midac="+encodeURIComponent(o)+"&midts="+encodeURIComponent(Date.now())+"&midurl="+encodeURIComponent(window.location);null!==a&&void 0!==a&&(u+="&midrc="+encodeURIComponent(a)),null!==i&&void 0!==i&&(u+="&midtype="+encodeURIComponent(i)),r.src=u},r=function(arguments,e){var t=[];return e=e||1,t=Array.isArray(t)?Array.prototype.slice.call(arguments):arguments,t.splice(0,e),t},u=function(t){var n=t.target.getAttribute(e.midboundAttributeName),o=t.target.value||"";o.trim().length>0&&mb("send","capture",o,n)},d=function(t,n){t.setAttribute(e.midboundAttributeName,n)},l=function(e){for(var t=[];e.parentNode;)if(e=e.parentNode,t.push(m(e)),"input"===e.tagName.toLowerCase()||"form"===e.tagName.toLowerCase())return t;return t},m=function(e){return{type:e.getAttribute("type"),name:e.getAttribute("name"),id:e.getAttribute("id"),placeholder:e.getAttribute("placeholder"),classes:e.getAttribute("class")||""}},c=function(e){var t=[];return t.push(e.type),t.push(e.name),t.push(e.id),t.push(e.placeholder),t=t.concat(e.classes.split(" ")),t=t.filter(function(e){return e&&e.length}),t=t.map(function(e){return e.toLowerCase()})},s=function(e){return e=e.map(function(e){return c(e)}),e=e.reduce(function(e,t){return e.concat(t)})},p=function(t,n){for(var o=null,a=!1,i=0;i<n.length;i++){if(new RegExp(e.keywords.names.join("|")).test(n[i])){o="name",a=!0;break}if(new RegExp(e.keywords.emails.join("|")).test(n[i])){o="email",a=!0;break}if(new RegExp(e.keywords.companies.join("|")).test(n[i])){o="company",a=!0;break}if(new RegExp(e.keywords.phones.join("|")).test(n[i])){o="phone",a=!0;break}}return null!==o&&d(t,o),a},f=function(t,n){var o=m(t);if(e.targetTypes.indexOf(o.type)<0)return!1;var a=c(o),i=l(t);return i=s(i),a=a.concat(i),p(t,a)},g=function(){for(var e=document.getElementsByTagName("input"),t=0;t<e.length;t++)f(e[t])&&e[t].addEventListener("blur",u)},b=function(e){for(var t=document.forms,n=0;n<t.length;n++){var o=document.createElement("input");o.type="hidden",o.name="midboundGuid",o.value=e,t[n].appendChild(o)}},h={queue:o,create:function(n,o){this.midboundId=n,this.mode=o||"auto",null===t&&localStorage.setItem(e.localStorageGuidKey,a()),"auto"===this.mode&&(b(localStorage.getItem(e.localStorageGuidKey)),g())},send:function(t,n,o){i(this.midboundId,localStorage.getItem(e.localStorageGuidKey),t,n,o)},init:function(){var e;for(e=0;e<this.queue.length;e++)this[o[e][0]].apply(null,r(o[e]));this.queue=[]}};h.init(),this[n]=function(e){"function"==typeof h[e]&&h[e].apply(null,r(arguments))}}();